(window.webpackJsonp=window.webpackJsonp||[]).push([[180],{507:function(s,a,t){"use strict";t.r(a);var e=t(4),r=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"docker-compose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose"}},[s._v("#")]),s._v(" Docker Compose")]),s._v(" "),a("h2",{attrs:{id:"简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[s._v("#")]),s._v(" 简介")]),s._v(" "),a("blockquote",[a("p",[s._v("Docker"),a("br"),s._v("\nDockerFile build run 手动操作，单个容器！"),a("br"),s._v("\n微服务。 100 个微服务！依赖关系。"),a("br"),s._v("\nDocker Compose 来轻松高效的管理容器i。定义运行多个容器。"),a("br"),s._v("\n官方介绍"),a("br"),s._v("\n定义、运行多个容器。"),a("br"),s._v("\nYAML file 配置文件。"),a("br"),s._v("\nsingle command。 命令有哪些？"),a("br"),s._v("\nCompose is a tool for defining and running multi-container Docker applications. With Compose,"),a("br"),s._v("\nyou use a YAML file to configure your application’s services. Then, with a single command, you"),a("br"),s._v("\ncreate and start all the services from your configuration. To learn more about all the features of"),a("br"),s._v("\nCompose, see the list of features."),a("br"),s._v("\n所有的环境都可以使用 Compose。"),a("br"),s._v("\nCompose works in all environments: production, staging, development, testing, as well as CI"),a("br"),s._v("\nworkflows. You can learn more about each case in Common Use Cases."),a("br")])]),s._v(" "),a("p",[a("strong",[s._v("三步骤：")])]),s._v(" "),a("p",[s._v("Using Compose is basically a three-step process:")]),s._v(" "),a("ol",[a("li",[s._v("Define your app’s environment with a "),a("code",[s._v("Dockerfile")]),s._v(" so it can be reproduced anywhere.\n"),a("ul",[a("li",[s._v("Dockerfile 保证我们的项目在任何地方可以运行。")])])]),s._v(" "),a("li",[s._v("Define the services that make up your app in "),a("code",[s._v("docker-compose.yml")]),s._v(" so they can be run together in an isolated environment.\n"),a("ul",[a("li",[s._v("services 什么是服务。")]),s._v(" "),a("li",[s._v("docker-compose.yml 这个文件怎么写！")])])]),s._v(" "),a("li",[s._v("Run "),a("code",[s._v("docker-compose up")]),s._v(" and Compose starts and runs your entire app.\n"),a("ul",[a("li",[s._v("启动项目")])])])]),s._v(" "),a("p",[s._v("作用：批量容器编排。")]),s._v(" "),a("p",[s._v("我自己理解")]),s._v(" "),a("blockquote",[a("p",[s._v("Compose 是Docker官方的开源项目。需要安装！"),a("br"),s._v(" "),a("code",[s._v("Dockerfile")]),s._v(" 让程序在任何地方运行。 web服务。 redis、mysql、nginx ... 多个容器。 run Compose")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("version: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'2.0'")]),s._v("\nservices:\n    web:\n        build:.\n        ports:\n        - "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"5000:5000"')]),s._v("\n        volumes:\n        - .:/code\n        - logvolume01:/var/log\n        links:\n        - redis\n    redis:\n        image: redis\n    volumes:\n        logvolume01: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("blockquote",[a("p",[s._v("docker-compose up 100 个服务。"),a("br"),s._v("\nCompose ：重要的概念。"),a("br"),s._v("\n服务services， 容器。应用。（web、redis、mysql....）"),a("br"),s._v("\n项目project。 一组关联的容器。 博客。web、mysql。"),a("br")])]),s._v(" "),a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),a("h4",{attrs:{id:"_1-、下载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-、下载"}},[s._v("#")]),s._v(" 1 、下载")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://github.com/docker/compose/releases/download/1.26.2/docker-compose-'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-o")]),s._v(" /usr/local/bin/docker-compose\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 这个可能快点！")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://get.daocloud.io/docker/compose/releases/download/1.25.5/docker-compose-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-m")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/local/bin/docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720112140.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_2-、授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-、授权"}},[s._v("#")]),s._v(" 2 、授权")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("sudo chmod +x /usr/local/bin/docker-compose\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"多看官网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多看官网"}},[s._v("#")]),s._v(" 多看官网.....")]),s._v(" "),a("h2",{attrs:{id:"体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#体验"}},[s._v("#")]),s._v(" 体验")]),s._v(" "),a("p",[s._v("地址：https://docs.docker.com/compose/gettingstarted/ "),a("br"),s._v("\npython 应用。计数器。 redis！"),a("br")]),s._v(" "),a("ul",[a("li",[s._v("1 、应用 app.py")]),s._v(" "),a("li",[s._v("2 、Dockerfile 应用打包为镜像")]),s._v(" "),a("li",[s._v("3 、Docker-compose yaml文件 （定义整个服务，需要的环境。 web、redis） 完整的上线服务！")]),s._v(" "),a("li",[s._v("4 、启动 compose 项目（docker-compose up）")])]),s._v(" "),a("h4",{attrs:{id:"流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#流程"}},[s._v("#")]),s._v(" 流程：")]),s._v(" "),a("ul",[a("li",[s._v("1 、创建网络")]),s._v(" "),a("li",[s._v("2 、执行 Docker-compose yaml")]),s._v(" "),a("li",[s._v("3 、启动服务。\nDocker-compose yaml"),a("br"),s._v("\nCreating composetest_web_1 ... done"),a("br"),s._v("\nCreating composetest_redis_1 ... done"),a("br"),s._v(" "),a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720112353.png",alt:"img"}})]),s._v(" "),a("li",[s._v("1 、文件名 composetest")]),s._v(" "),a("li",[s._v("2 、服务")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('version: \'3\'\nservices:\n    web:\n        build:.\n        ports:\n            - "5000:5000"\n    redis:\n        image: "redis:alpine"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"自动的默认规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动的默认规则"}},[s._v("#")]),s._v(" 自动的默认规则？")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720112506.png",alt:"img"}})]),s._v(" "),a("p",[s._v("docker imgaes")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720112518.png",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('[root@kuangshen ~]# docker service ls\nError response from daemon: This node is not a swarm manager. Use "docker\nswarm init" or "docker swarm join" to connect this node to swarm and try\nagain.\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("默认的服务名 文件名_服务名 _ num"),a("br"),s._v("\n多个服务器。集群。A B _num 副本数量"),a("br"),s._v("\n服务redis服务 => 4个副本。"),a("br"),s._v("\n集群状态。服务都不可能只有一个运行实例。 弹性、10 HA 高并发。"),a("br"),s._v("\nkubectl service 负载均衡。"),a("br")])]),s._v(" "),a("p",[s._v("3 、网络规则\n"),a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720113053.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_10-个服务-项目-项目中的内容都在同个网络下。域名访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-个服务-项目-项目中的内容都在同个网络下。域名访问"}},[s._v("#")]),s._v(" 10 个服务 => 项目 （项目中的内容都在同个网络下。域名访问）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720113142.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"如果在同一个网络下-我们可以直接通过域名访问。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如果在同一个网络下-我们可以直接通过域名访问。"}},[s._v("#")]),s._v(" 如果在同一个网络下，我们可以直接通过域名访问。")]),s._v(" "),a("h4",{attrs:{id:"ha"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ha"}},[s._v("#")]),s._v(" HA！")]),s._v(" "),a("p",[s._v("停止： docker-compose down ctrl+c")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720113208.png",alt:"img"}})]),s._v(" "),a("p",[s._v("docker-compose"),a("br"),s._v("\n以前都是单个 docker run 启动容器。"),a("br"),s._v("\ndocker-compose。 通过 docker-compose 编写 yaml配置文件、可以通过 compose 一键启动所有服"),a("br"),s._v("\n务，停止。！"),a("br")]),s._v(" "),a("p",[a("strong",[s._v("Docker小结：")])]),s._v(" "),a("ul",[a("li",[s._v("1 、Docker 镜像。 run => 容器")]),s._v(" "),a("li",[s._v("2 、DockerFile 构建镜像（服务打包）")]),s._v(" "),a("li",[s._v("3 、docker-compose 启动项目（编排、多个微服务/环境）")]),s._v(" "),a("li",[s._v("4 、Docker 网络")])]),s._v(" "),a("h3",{attrs:{id:"yaml-规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yaml-规则"}},[s._v("#")]),s._v(" yaml 规则")]),s._v(" "),a("p",[s._v("docker-compose.yaml 核心。！\nhttps://docs.docker.com/compose/compose-file/#compose-file-structure-and-examples")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3层！")]),s._v("\nversion: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 版本 ")]),s._v("\nservices: "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务 ")]),s._v("\n    服务1: web \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 服务配置 ")]),s._v("\n      images \n      build \n      network \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". \n      服务2: redis \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(" \n      服务3: redis \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 其他配置 网络/卷、全局规则 ")]),s._v("\nvolumes: \nnetworks: \nconfigs:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720113621.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"学习-要掌握规律"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#学习-要掌握规律"}},[s._v("#")]),s._v(" 学习，要掌握规律！")]),s._v(" "),a("p",[s._v("只要多写，多看。 compose.yaml 配置。！")]),s._v(" "),a("ul",[a("li",[s._v("1 、官网文档\nhttps://docs.docker.com/compose/compose-file/#specifying-durations")]),s._v(" "),a("li",[s._v("2 、开源项目 compose.yaml\nredis、mysql、mq！")])]),s._v(" "),a("h2",{attrs:{id:"开源项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开源项目"}},[s._v("#")]),s._v(" 开源项目")]),s._v(" "),a("h3",{attrs:{id:"博客"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#博客"}},[s._v("#")]),s._v(" 博客")]),s._v(" "),a("h4",{attrs:{id:"下载程序、安装数据库、配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载程序、安装数据库、配置"}},[s._v("#")]),s._v(" 下载程序、安装数据库、配置.....")]),s._v(" "),a("p",[s._v("compose 应用。=> 一键启动！")]),s._v(" "),a("ul",[a("li",[s._v("1 、下载项目（docker-compose.yaml）")]),s._v(" "),a("li",[s._v("2 、如果需要文件。Dcokerfile")]),s._v(" "),a("li",[s._v("3 、文件准备齐全（直接一键启动项目！）")])]),s._v(" "),a("p",[s._v("前台启动\ndocker -d\ndocker-compose up -d")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720113819.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"一切都很简单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一切都很简单"}},[s._v("#")]),s._v(" 一切都很简单！")]),s._v(" "),a("h2",{attrs:{id:"实战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实战"}},[s._v("#")]),s._v(" 实战")]),s._v(" "),a("ul",[a("li",[s._v("1 、编写项目微服务")]),s._v(" "),a("li",[s._v("2 、dockerfile 构建镜像")]),s._v(" "),a("li",[s._v("3 、docker-compose.yaml 编排项目")]),s._v(" "),a("li",[s._v("4 、丢到服务器 docker-compose up")])]),s._v(" "),a("p",[a("strong",[s._v("小结：")]),s._v("\n未来项目只要有 docker-compose 文件。 按照这个规则，启动编排容器。！"),a("br"),s._v("\n公司： docker-compose。 直接启动。"),a("br"),s._v("\n网上开源项目： docker-compose 一键搞定。"),a("br"),s._v("\n假设项目要重新部署打包"),a("br")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker-compose up --build # 重新构建！\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结：")]),s._v(" "),a("h4",{attrs:{id:"工程、服务、容器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工程、服务、容器"}},[s._v("#")]),s._v(" 工程、服务、容器")]),s._v(" "),a("ul",[a("li",[s._v("项目 compose：三层\n"),a("ul",[a("li",[s._v("工程 Porject")]),s._v(" "),a("li",[s._v("服务 服务")]),s._v(" "),a("li",[s._v("容器 运行实例！ docker k8s 容器.")])])])]),s._v(" "),a("p",[s._v("Docker Compose 搞定！")]),s._v(" "),a("h1",{attrs:{id:"docker-swarm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm"}},[s._v("#")]),s._v(" Docker Swarm")]),s._v(" "),a("h4",{attrs:{id:"集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集群"}},[s._v("#")]),s._v(" 集群")]),s._v(" "),a("h2",{attrs:{id:"购买服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#购买服务器"}},[s._v("#")]),s._v(" 购买服务器")]),s._v(" "),a("blockquote",[a("p",[s._v("4 台服务器 2G！")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720135915.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720135929.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720135940.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"到此-服务器购买完毕-1-主-3-从"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#到此-服务器购买完毕-1-主-3-从"}},[s._v("#")]),s._v(" 到此，服务器购买完毕！ 1 主， 3 从！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720135958.png",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"_4-台机器安装-docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-台机器安装-docker"}},[s._v("#")]),s._v(" 4 台机器安装 Docker")]),s._v(" "),a("p",[s._v("和我们单机安装一样")]),s._v(" "),a("p",[s._v("技巧：xshell 直接同步操作，省时间。！")]),s._v(" "),a("h2",{attrs:{id:"工作模式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作模式"}},[s._v("#")]),s._v(" 工作模式")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140031.png",alt:"img"}})]),s._v(" "),a("h2",{attrs:{id:"搭建集群"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建集群"}},[s._v("#")]),s._v(" 搭建集群")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140056.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140109.png",alt:"img"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140121.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"私网、公网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#私网、公网"}},[s._v("#")]),s._v(" 私网、公网！")]),s._v(" "),a("h4",{attrs:{id:"_172-24-82-149-用自己的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_172-24-82-149-用自己的"}},[s._v("#")]),s._v(" 172.24.82.149 用自己的！")]),s._v(" "),a("p",[s._v("初始化节点 "),a("code",[s._v("docker swarm init")]),s._v("\ndocker swarm join 加入 一个节点！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140157.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"把后面的节点都搭建进去"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#把后面的节点都搭建进去"}},[s._v("#")]),s._v(" 把后面的节点都搭建进去！")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取令牌")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" swarm join-token manager\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" swarm join-token worker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140233.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"_100-台"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_100-台"}},[s._v("#")]),s._v(" 100 台！")]),s._v(" "),a("ul",[a("li",[s._v("1 、生成主节点 init")]),s._v(" "),a("li",[s._v("2 、加入（管理者、worker）")])]),s._v(" "),a("p",[s._v("目标：双主双从！")]),s._v(" "),a("h2",{attrs:{id:"raft协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#raft协议"}},[s._v("#")]),s._v(" Raft协议")]),s._v(" "),a("h4",{attrs:{id:"双主双从-假设一个节点挂了-其他节点是否可以用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#双主双从-假设一个节点挂了-其他节点是否可以用"}},[s._v("#")]),s._v(" 双主双从： 假设一个节点挂了！其他节点是否可以用！")]),s._v(" "),a("blockquote",[a("p",[s._v("Raft协议： 保证大多数节点存活才可以用。 只要>1 ，集群至少大于 3 台！"),a("br"),s._v("\n实验："),a("br"),s._v("\n1 、将docker1机器停止。宕机！ 双主，另外一个主节点也不能使用了！"),a("br"),s._v(" "),a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140334.png",alt:"img"}}),s._v("\n2 、可以将其他节点离开"),a("br"),s._v(" "),a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140356.png",alt:"img"}}),s._v("\n3 、work就是工作的、管理节点操作！ 3 台机器设置为了管理节点。"),a("br"),s._v("\n十分简单：集群，可用！ 3 个主节点。 > 1 台管理节点存活！"),a("br"),s._v("\nRaft协议： 保证大多数节点存活，才可以使用，高可用！"),a("br")])]),s._v(" "),a("h2",{attrs:{id:"体会"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#体会"}},[s._v("#")]),s._v(" 体会")]),s._v(" "),a("blockquote",[a("p",[s._v("弹性、扩缩容！集群！"),a("br"),s._v("\n以后告别 docker run！"),a("br"),s._v("\ndocker-compose up！ 启动一个项目。单机！"),a("br"),s._v("\n集群： swarm docker serivce"),a("br"),s._v("\n容器 => 服务！"),a("br"),s._v("\n容器 => 服务！=> 副本！"),a("br"),s._v("\nredis 服务 => 10个副本！（同时开启 10 个redis容器）"),a("br"),s._v("\n体验：创建服务、动态扩展服务、动态更新服务。"),a("br")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140520.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"灰度发布-金丝雀发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#灰度发布-金丝雀发布"}},[s._v("#")]),s._v(" 灰度发布：金丝雀发布！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140445.png",alt:"img"}})]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker run 容器启动！不具有扩缩容器\ndocker service 服务！ 具有扩缩容器，滚动更新！\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h4",{attrs:{id:"查看服务-replicas"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看服务-replicas"}},[s._v("#")]),s._v(" 查看服务 REPLICAS")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140646.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"动态扩缩容"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态扩缩容"}},[s._v("#")]),s._v(" 动态扩缩容")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140657.png",alt:"img"}})]),s._v(" "),a("blockquote",[a("p",[s._v("服务，集群中任意的节点都可以访问。服务可以有多个副本动态扩缩容实现高可用！"),a("br"),s._v("\n弹性、扩缩容！"),a("br"),s._v("\n10台！ 10000台！ 卖给别人！ 虚拟化！"),a("br"),s._v("\n服务的高可用，任何企业，云！"),a("br"),s._v(" "),a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140756.png",alt:"img"}}),s._v("\ndocker swarm 其实并不难"),a("br"),s._v("\n只要会搭建集群、会启动服务、动态管理容器就可以了！"),a("br")])]),s._v(" "),a("h2",{attrs:{id:"概念总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概念总结"}},[s._v("#")]),s._v(" 概念总结")]),s._v(" "),a("p",[a("strong",[s._v("swarm")]),s._v("\n集群的管理和编号。 docker可以初始化一个 swarm 集群，其他节点可以加入。（管理、工作者）\n"),a("strong",[s._v("Node")]),s._v("\n就是一个docker节点。多个节点就组成了一个网络集群。（管理、工作者）\n"),a("strong",[s._v("Service")]),s._v("\n任务，可以在管理节点或者工作节点来运行。核心。！用户访问！\n"),a("strong",[s._v("Task")]),s._v("\n容器内的命令，细节任务！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140900.png",alt:"img"}})]),s._v(" "),a("h4",{attrs:{id:"逻辑是不变的。"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#逻辑是不变的。"}},[s._v("#")]),s._v(" 逻辑是不变的。")]),s._v(" "),a("p",[s._v("命令 -> 管理 -> api -> 调度 -> 工作节点（创建Task容器维护创建！）")]),s._v(" "),a("h4",{attrs:{id:"服务副本与全局服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务副本与全局服务"}},[s._v("#")]),s._v(" 服务副本与全局服务")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720140928.png",alt:"img"}})]),s._v(" "),a("p",[s._v("调整service以什么方式运行")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('--mode string\nService mode (replicated or global) (default "replicated")\ndocker service create --mode replicated --name mytom tomcat:7 默认的\ndocker service create --mode global --name haha alpine ping baidu.com\n#场景？日志收集\n每一个节点有自己的日志收集器，过滤。把所有日志最终再传给日志中心\n服务监控，状态性能。\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v('拓展：网络模式： "PublishMode": "ingress"\nSwarm:\nOverlay:\ningress : 特殊的 Overlay 网络！ 负载均衡的功能！ IPVS VIP！')]),s._v(" "),a("p",[s._v("虽然docker在 4 台机器上，实际网络是同一个！ ingress 网络 ，是一个特殊的 Overlay 网络")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720141039.png",alt:"img"}})]),s._v(" "),a("p",[s._v("整体！")]),s._v(" "),a("p",[s._v("k8s！")]),s._v(" "),a("h1",{attrs:{id:"docker-stack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-stack"}},[s._v("#")]),s._v(" Docker Stack")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720141119.png",alt:"img"}})]),s._v(" "),a("p",[s._v("docker-compose 单机部署项目！\nDocker Stack部署，集群部署！")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 单机")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker-compose")]),s._v(" up "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-d")]),s._v(" wordpress.yaml\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 集群")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stack deploy wordpress.yaml\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker-compose 文件")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.4'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mongo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mongo\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" mongo_network\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart_policy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("condition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("failure\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mongo-express")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mongo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("express\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" always\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" mongo_network\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("target")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8081")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("published")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" tcp\n              "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ingress\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ME_CONFIG_MONGODB_SERVER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mongo\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ME_CONFIG_MONGODB_PORT")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27017")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("restart_policy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("condition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("failure\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("mongo_network")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("external")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br")])]),a("h1",{attrs:{id:"docker-secret"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-secret"}},[s._v("#")]),s._v(" Docker Secret")]),s._v(" "),a("h4",{attrs:{id:"安全-配置密码-证书"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全-配置密码-证书"}},[s._v("#")]),s._v(" 安全！配置密码，证书！")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720141502.png",alt:"img"}})]),s._v(" "),a("h1",{attrs:{id:"docker-config"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-config"}},[s._v("#")]),s._v(" Docker Config")]),s._v(" "),a("h4",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://s-dehua.github.io/assets/images/QQ%E6%88%AA%E5%9B%BE20210720141535.png",alt:"img"}})]),s._v(" "),a("p",[a("strong",[s._v("Docker下半场！")]),s._v("\nDocker Compose Swarm！\n了解，学习方式：\n网上找案例跑起来试试！查看命令帮助文档 --help， 官网！")]),s._v(" "),a("h1",{attrs:{id:"拓展到k8s"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拓展到k8s"}},[s._v("#")]),s._v(" 拓展到K8S")]),s._v(" "),a("h2",{attrs:{id:"云原生时代"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#云原生时代"}},[s._v("#")]),s._v(" 云原生时代")]),s._v(" "),a("p",[s._v("Go语言！必须掌握！ Java、Go！"),a("br")]),s._v(" "),a("p",[s._v("并发语言！"),a("br")]),s._v(" "),a("p",[s._v("B语言 C 语言的创始人 。Unix创始人 V8 "),a("br"),s._v(" "),a("strong",[s._v("Go")]),s._v(" （又称 "),a("strong",[s._v("Golang")]),s._v(" ）是 Google 的 Robert Griesemer，Rob Pike 及 Ken Thompson 开发的一种静态强"),a("br"),s._v("\n类型、编译型语言。Go 语言语法与 C 相近，但功能上有：内存安全，GC（垃圾回收），结构形态及"),a("br"),s._v("\nCSP-style 并发计算。"),a("br"),s._v("\ngo 指针！"),a("br")]),s._v(" "),a("p",[s._v("罗伯特·格瑞史莫（Robert Griesemer），罗勃·派克（Rob Pike）及肯·汤普逊（Ken Thompson）于"),a("br"),s._v("\n2007 年 9 月开始设计Go，稍后Ian Lance Taylor、Russ Cox加入项目。Go是基于Inferno操作系统所开"),a("br"),s._v("\n发的。Go于 2009 年 11 月正式宣布推出，成为开放源代码项目，并在Linux及Mac OS X平台上进行了实"),a("br"),s._v("\n现，后来追加了Windows系统下的实现。在 2016 年，Go被软件评价公司TIOBE 选为“TIOBE 2016 年最"),a("br"),s._v("\n佳语言”。 目前，Go每半年发布一个二级版本（即从a.x升级到a.y）"),a("br")]),s._v(" "),a("p",[s._v("java => Go"),a("br"),s._v("\nzijie => Go"),a("br")])])}),[],!1,null,null,null);a.default=r.exports}}]);