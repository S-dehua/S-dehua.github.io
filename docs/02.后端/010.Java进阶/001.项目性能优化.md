# 1.性能问题分析

**01-性能优化的终极目标是什么？**

用户体验 = 产品设计(非技术) + 系统性能 ≈ 系统性能 = 快？

应用性能是产品用户体验的基石，性能优化的终极目标是优化用户体验。当我们谈及性能，最直观能想到的一个词是“快”，哪到底怎么才是快呢？如何又为慢！

**02-什么样的体验叫快呢？**

- **3S定理：** Strangeloop在对众多的网站做性能分析之后得出了一个著名的3s定律“页面加载速度超过3s，57%的访客会离开”。 Strangeloop在对众多的网站做性能分析之后得出了一个著名的3s定律“页面加载速度超过3s，57%的访客会离开”。
- **SEO排名：** 速度在Google、百度等搜索引擎的PR评分中也占有一定的比例，会影响到网站的SEO排名。 

**03-怎么让系统快起来呢？**

- 性能优化

**04-应用性能调优是个大工程**

- **后端：**

    - RT（Response-time，响应时间）、TPS（Transactions Per Second，每秒事务）、并发数（Concurrency）、吞吐量（Throughput）、内存占用（Footprint）、延迟（Latency）

    - TPS和RT的影响因素：数据库读写、RPC、网络IO、逻辑计算复杂度、JVM

- **Web端：** 首屏时间、白屏时间、可交互时间、完全加载时间... 

- **移动端：** 端到端响应时间、Crash率、内存使用率、FPS... 

**05-影响性能的关键要素**

- 产品设计：产品逻辑、功能交互、动态效果、页面元素
- 基础网络：网络 = 连接介质 + 计算终端
    - 连接介质：电缆、双绞线、光纤、微波、载波或通信卫星。
    - 计算终端：PC、手机、可穿戴设备、家具家电...
    - 基础网络设施：互联网，局域网(LAN)、城域网(MAN)、广域网(WAN)
- 代码质量&架构问题
    - 架构不合理
    - 研发功底和经验不足
    - 没有性能意识：只实现了业务功能不注意代码性能，新功能上线后整体性能下降，或当业务上量后系统出现连锁反应，导致性能问题叠加，直接影响用户体验。
- 移动端环境
- 硬件及云服务

# 2. 压力测试

## 什么是压力测试？

**压力测试**（英语：Stress testing）是针对特定系统或是组件，为要确认其稳定性而特意进行的严格测试。会让系统在超过正常使用条件下运作，然后再确认其结果。

压力测试是对系统不断施加压力，来预估系统服务能力的一种测试。

**为什么对系统压测呢？有没有必要**。压不压测要看场景！

- 一般而言，只有在系统基础功能测试验证完成、系统趋于稳定的情况下，才会进行压测。

**压测的目的是什么？**

1. 当负载逐渐增加时，观察**系统各项性能指标的变化情况**是否有异常
2. 发现系统的**性能短板**，进行针对性的性能优化
3. 判断系统在**高并发情况下是否会报错**，进程是否会挂掉
4. 测试在系统某个方面达到瓶颈时，粗略估计系统性能上限

**压测性能指标有哪些？**

![img](https://s-dehua.github.io/assets/001.项目性能优化.assets/image-20231124212443977.png)

以上主要的四种性能指标**【响应时间、并发用户数、吞吐量、资源使用率】**它们之间存在一定的相关性，共同反映出性能的不同方面。

## 案例：SpringBoot项目不做